{"version":3,"sources":["logo.svg","components/login.js","api.js","components/exams.js","components/images.js","components/layout.js","App.js","reportWebVitals.js","index.js"],"names":["layout","labelCol","span","wrapperCol","tailLayout","offset","setPage","style","paddingTop","name","initialValues","remember","onFinish","username","password","localStorage","setItem","Date","now","toString","message","error","onFinishFailed","errorInfo","console","log","Item","label","rules","required","Password","type","htmlType","to","promise","then","data","catch","err","API_ROOT","responseBody","res","errBody","response","url","headers","axios","get","body","post","delete","RangePicker","DatePicker","AddExamForm","onSuccess","values","a","rate","cnf","JSON","parse","captureConfig","e","width","height","image_format","jpeg_quality","API","examId","startAt","range","valueOf","endAt","captureRate","min","max","success","newExam","errors","showTime","format","defaultValue","TextArea","onDelete","useState","loading","setLoading","setData","addDrawer","showAddDrawer","useEffect","float","margin","onClick","columns","rowId","filter","row","_id","title","dataIndex","key","render","moment","tags","icon","DeleteOutlined","DownloadOutlined","marginLeft","window","open","dataSource","placement","onClose","visible","parseInt","allFiles","setAllFiles","setFilter","selected","setSelected","imageViewer","showImageViewer","filenames","map","x","split","studentName","time","fileName","filteredFiles","value","includes","onChange","target","placeholder","onRow","record","rowIndex","pagination","position","scroll","y","length","onOk","onCancel","footer","StepBackwardOutlined","StepForwardOutlined","src","Sider","Layout","Header","Content","Footer","page","collapsed","setCollapsed","minHeight","collapsible","onCollapse","className","theme","defaultSelectedKeys","mode","PieChartOutlined","DesktopOutlined","padding","textAlign","App","login","ascot","getItem","isNaN","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f9b7b9e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React from 'react';\nimport {Row, Col, Form, Input, Button, message} from 'antd';\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nexport default ({setPage}) => {\n  const onFinish = ( { username, password } ) => {\n    if (username === 'admin' && password === 'easy_login') {\n      localStorage.setItem('ascot', (Date.now() + 60000 * 60).toString());\n      setPage('exam2');\n    } else {\n      message.error('Login failed');\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return <Row style={{paddingTop: 30}}>\n    <Col span={8} offset={8}>\n\n      <Form\n        {...layout}\n        name=\"basic\"\n        initialValues={{ remember: true }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Form.Item\n          label=\"Username\"\n          name=\"username\"\n          rules={[{ required: true, message: 'Please input your username!' }]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"Password\"\n          name=\"password\"\n          rules={[{ required: true, message: 'Please input your password!' }]}\n        >\n          <Input.Password />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n\n    </Col>\n  </Row>\n}\n","import axios from 'axios';\nconst to = (promise) => promise.then((data) => [null, data]).catch((err) => [err, null]);\n// const API_ROOT = 'http://localhost:3000/'; // root of the api url\nconst API_ROOT = '/'; // root of the api url\n\nconst responseBody = (res) => res.data; // an arrow function to takes only the data value from the response object\nconst errBody = (res) => {\n  throw res.response.data;\n};\n\n// general 4 types of requests\nexport default {\n  get: (url, headers = {}) =>\n    to(\n      axios\n        .get(`${API_ROOT}${url}`, { headers })\n        .then(responseBody)\n        .catch(errBody),\n    ),\n  post: (url, body, headers = {}) =>\n    to(\n      axios\n        .post(`${API_ROOT}${url}`, body, { headers })\n        .then(responseBody)\n        .catch(errBody),\n    ),\n  put: (url, body, headers = {}) =>\n    to(\n      axios\n        .put(`${API_ROOT}${url}`, body, { headers })\n        .then(responseBody)\n        .catch(errBody),\n    ),\n  patch: (url, body, headers = {}) =>\n    to(\n      axios\n        .patch(`${API_ROOT}${url}`, body, { headers })\n        .then(responseBody)\n        .catch(errBody),\n    ),\n  del: (url, headers = {}) =>\n    to(\n      axios\n        .delete(`${API_ROOT}${url}`, { headers })\n        .then(responseBody)\n        .catch(errBody),\n    ),\n};\n\nexport { to };\n","import React, {useEffect, useState} from \"react\";\nimport {Button, Table, Row, Col, Drawer, Form, Input, DatePicker, message, Slider} from 'antd';\nimport {DeleteOutlined, DownloadOutlined} from '@ant-design/icons';\nimport moment from 'moment';\nimport API from '../api';\n\nconst {RangePicker} = DatePicker;\n\nconst layout = {\n  labelCol: {span: 8},\n  wrapperCol: {span: 16},\n};\nconst tailLayout = {\n  wrapperCol: {offset: 8, span: 16},\n};\n\nconst getColumns = (onDelete) => ([\n  {\n    title: 'Exam Name',\n    dataIndex: 'name',\n    key: 'name',\n  },\n  {\n    title: 'Exam Id',\n    dataIndex: 'examId',\n    key: 'examId',\n  },\n  {\n    title: 'Start At',\n    dataIndex: 'startAt',\n    key: 'startAt',\n    render: (data) => <div>{moment(data).format('YYYY-MM-DD HH:mm')}</div>,\n  },\n  {\n    title: 'End At',\n    dataIndex: 'endAt',\n    key: 'endAt',\n    render: (data) => <div>{moment(data).format('YYYY-MM-DD HH:mm')}</div>,\n  },\n  {\n    title: '',\n    key: 'actions',\n    render: (tags, row) => (\n      <>\n        <Button type=\"danger\" icon={<DeleteOutlined/>} onClick={async () => {\n          const [err, data] = await API.del('delete-exam/' + row._id);\n          if (err) {\n            message.error('Failed to delete');\n          } else {\n            message.success('Successfully deleted');\n            onDelete(row._id);\n          }\n        }}/>\n        {row.endAt < Date.now() && <Button icon={<DownloadOutlined />} style={{marginLeft: 20}} onClick={async () => {\n          window.open('/download/' + row.examId, '_blank');\n        }} />}\n      </>\n    ),\n  }\n]);\n\nconst AddExamForm = ({onSuccess}) => {\n  const onFinish = async (values) => {\n    let rate = values.rate || [10, 20];\n    let cnf;\n    try {\n      cnf = JSON.parse(values.captureConfig);\n    } catch (e) {\n      cnf = {\n        width: 320,\n        height: 240,\n        image_format: 'jpeg',\n        jpeg_quality: 90,\n      }\n    }\n    const [err, data] = await API.post('create-exam', {\n      name: values.name,\n      examId: values.examId,\n      startAt: values.range[0].valueOf(),\n      endAt: values.range[1].valueOf(),\n      captureConfig: cnf,\n      captureRate: {\n        min: rate[0],\n        max: rate[1],\n      }\n    });\n    if (err) {\n      message.error('Something went wrong');\n    } else {\n      message.success('Exam entry added');\n      onSuccess(data.newExam)\n    }\n  }\n\n  const onFinishFailed = (errors) => {\n\n  }\n\n  return <Form\n    {...layout}\n    name=\"basic\"\n    initialValues={{remember: true}}\n    onFinish={onFinish}\n    onFinishFailed={onFinishFailed}\n  >\n    <Form.Item\n      label=\"Exam Name\"\n      name=\"name\"\n      rules={[{required: true, message: 'Please input exam name!'}]}\n    >\n      <Input/>\n    </Form.Item>\n    <Form.Item\n      label=\"Exam Id\"\n      name=\"examId\"\n      rules={[{required: true, message: 'Please input exam ID!'}]}\n    >\n      <Input/>\n    </Form.Item>\n\n    <Form.Item\n      label=\"Enable Time Range\"\n      name=\"range\"\n      rules={[{required: true, message: 'Please add time rage'}]}\n    >\n      <RangePicker\n        showTime={{format: 'HH:mm'}}\n        format=\"YYYY-MM-DD HH:mm\"\n      />\n    </Form.Item>\n\n    <Form.Item label=\"Capture Rate (min)\" name=\"rate\">\n      <Slider range defaultValue={[10, 20]} />\n    </Form.Item>\n\n    <Form.Item\n      label=\"Capturing Configs\"\n      name=\"captureConfig\"\n    >\n      <Input.TextArea/>\n    </Form.Item>\n\n    <Form.Item label=\"Example\">\n      <code>\n        {'{'} <br/>\n        \"width\": 320, <br/>\n        \"height\": 240, <br/>\n        \"image_format\": \"jpeg\", <br/>\n        \"jpeg_quality\": 90 <br/>\n        {'}'}\n      </code>\n    </Form.Item>\n\n    <Form.Item {...tailLayout}>\n      <Button type=\"primary\" htmlType=\"submit\">\n        Submit\n      </Button>\n    </Form.Item>\n  </Form>\n}\n\nexport default () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [addDrawer, showAddDrawer] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      const [err, data] = await API.get('get-exams');\n      if (err) {\n        message.error('Exam data loading failed. try to reload');\n      } else {\n        if (data.success) {\n          setData(data.data);\n        } else {\n          message.error('Exam data loading failed. try to reload');\n        }\n      }\n      setLoading(false);\n    })();\n  }, [])\n\n  return <div>\n    <Row>\n      <Col span={24}>\n        <Button type=\"primary\" style={{float: 'left', margin: 5}} onClick={() => showAddDrawer(true)}>Add New</Button>\n      </Col>\n    </Row>\n    <Row>\n      <Col span={24}>\n        <Table columns={getColumns((rowId) => {\n          setData(data.filter(row => row._id !== rowId));\n        })} dataSource={data} loading={loading}/>\n      </Col>\n    </Row>\n\n    <Drawer\n      title=\"Exam\"\n      placement=\"right\"\n      width={600}\n      onClose={() => showAddDrawer(false)}\n      visible={addDrawer}\n    >\n      <AddExamForm onSuccess={(newExam) => {\n        showAddDrawer(false);\n        setData([...data, newExam])\n      }}/>\n    </Drawer>\n  </div>;\n}\n","import React, {useState, useEffect} from 'react';\n\nimport API from '../api';\nimport {message, Row, Input, Table, Col, Modal, Button} from \"antd\";\nimport {StepBackwardOutlined, StepForwardOutlined} from '@ant-design/icons';\nimport moment from \"moment\";\n\nconst columns = [\n  {\n    title: 'Exam',\n    dataIndex: 'examId',\n    key: 'examId',\n  },\n  {\n    title: 'Student Name',\n    dataIndex: 'studentName',\n    key: 'studentName',\n  },\n  {\n    title: 'Time',\n    dataIndex: 'time',\n    key: 'time',\n    render: (data) => <div>{moment(parseInt(data)).format('YYYY-MM-DD HH:mm:ss')}</div>,\n  },\n  {\n    title: 'Filename',\n    dataIndex: 'fileName',\n    key: 'fileName',\n  },\n];\n\nexport default () => {\n  const [allFiles, setAllFiles] = useState([]);\n  const [filter, setFilter] = useState('');\n\n  const [selected, setSelected] = useState(0);\n  const [imageViewer, showImageViewer] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      const [err, data] = await API.get('all-images');\n      if (err) {\n        message.error('Fail to load images. try again please');\n      } else {\n        setAllFiles(data.filenames.map(name => {\n          const x = name.split('_');\n          return {\n            examId: x[0],\n            studentName: x[1],\n            time: x[3] && x[3].split('.')[0],\n            fileName: name,\n          }\n        }));\n        setFilter('')\n      }\n    })();\n  }, []);\n\n  const filteredFiles = allFiles.filter(value => value.fileName.includes(filter));\n\n  return <div>\n    <Row>\n      <Col span={24}>\n        <Input value={filter} onChange={(e) => setFilter(e.target.value)} placeholder=\"Filter by file name\"/>\n      </Col>\n    </Row>\n    <Row>\n      <Col span={24}>\n        <Table\n          dataSource={filteredFiles}\n          columns={columns}\n         onRow={(record, rowIndex) => ({\n            onClick: () => {\n              setSelected(rowIndex);\n              showImageViewer(true);\n            },\n          })}\n         pagination={{ position: ['topRight'] }}\n          scroll={{ y: 750 }}\n        />\n      </Col>\n    </Row>\n\n    <Modal\n      title={`${filteredFiles[selected] && moment(parseInt(filteredFiles[selected].time)).format('YYYY-MM-DD HH:mm:ss')} | ${selected + 1}/${filteredFiles.length}`}\n      visible={imageViewer}\n      onOk={() => showImageViewer(false)}\n      onCancel={() => showImageViewer(false)}\n      footer={<>\n        <Button type=\"primary\" icon={<StepBackwardOutlined/>}\n                onClick={() => {\n                    if (selected !== 0) {\n                      setSelected(selected - 1);\n                    }\n                  }\n                }\n        />\n        <Button type=\"primary\" icon={<StepForwardOutlined/>} onClick={() => {\n          if (selected !== filteredFiles.length - 1) {\n            setSelected(selected + 1);\n          }\n        }\n        }/>\n        <Button onClick={() => showImageViewer(false)}>Cancel</Button>\n      </>}\n    >\n      <img style={{width: '100%' }} src={`/images/${filteredFiles[selected] && filteredFiles[selected].fileName}`}/>\n    </Modal>\n  </div>\n}\n\n\n","import React, {useState} from 'react';\nimport {Layout, Menu} from 'antd';\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n} from '@ant-design/icons';\nimport Exams from \"./exams\";\nimport Images from \"./images\";\n\nconst { Sider, Header, Content, Footer} = Layout;\n\nexport default ({page, setPage}) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const onCollapse = collapsed => {\n    setCollapsed(collapsed);\n  };\n\n  return <Layout style={{ minHeight: '100vh' }}>\n    <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\n      <div className=\"logo\" style={{height: 60}} />\n      <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n        <Menu.Item key=\"1\" icon={<PieChartOutlined />} onClick={() => setPage('exam')}>\n          Exams\n        </Menu.Item>\n        <Menu.Item key=\"2\" icon={<DesktopOutlined />} onClick={() => setPage('images')}>\n          Images\n        </Menu.Item>\n      </Menu>\n    </Sider>\n    <Layout className=\"site-layout\">\n      <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n      <Content style={{ margin: '0 16px' }}>\n        {page === 'exam' && <Exams />}\n        {page === 'exam2' && <Exams />}\n        {page === 'images' && <Images />}\n      </Content>\n      <Footer style={{ textAlign: 'center' }}>_______</Footer>\n    </Layout>\n  </Layout>\n}\n","import React, {useState} from 'react';\nimport logo from './logo.svg';\n\nimport 'antd/dist/antd.css';\nimport './App.css';\n\nimport Login from './components/login';\nimport Layout from './components/layout';\n\nfunction App() {\n  const [page, setPage] = useState('exam');\n  const ascot = parseInt(localStorage.getItem('ascot'));\n\n  let login;\n  if (isNaN(ascot)) {\n    login = false;\n  } else {\n    login = ascot > Date.now();\n  }\n\n\n  return (\n    <div className=\"App\">\n      {!login && <Login setPage={setPage} />}\n      {login && <Layout page={page} setPage={setPage}/>}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}